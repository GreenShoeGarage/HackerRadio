<!DOCTYPE html>
<html>

<head>
    <title>GSG HackerRadio v0.0.2</title>
</head>

<body>
    <img src="/images/gsg.jpg" alt="GSG Logo">
    <h1>HackerRadio v0.0.2</h1><br>
    <h2>Set TX Frequency</h2>
    <form action="/changefrequency">
        <p.b>Example: Enter 102.35MHz as 10235; 99.5MHz as 9950</p.b><br><br>
        <label for="newfrequency">New Frequency:</label>
        <input type="text" id="newfrequency" name="newfrequency" value="10250"><br>
        <input type="submit" value="Submit New Frequency">
    </form>
    <br><br>


    <h2>Set TX Power</h2>

    <form action="/changetxpower">
        <label for="newtxpower">TX Power (between 88 and 115):</label>
        <input type="range" id="newtxpower" name="newtxpower" value="95" min="88" max="115"
            oninput="this.nextElementSibling.value = this.value">
        <output>95</output>
        <br>
        <input type="submit" value="Submit New TX Power">
    </form>
    <br>


    <h2>Current System Status:</h2>
    <p>
        <span class="status-labels">Current TX Frequency: </span>
        <span id="currentfrequency">%CURRENTFREQUENCY%</span>
        <span class="units">MHz</span>
        <br>
        <span class="status-labels">Current TX Power: </span>
        <span id="currenttxpower">%CURRENTTXPOWER%</span>
        <span class="units">dBuV</span>
    </p>



    <script>
        setInterval(function () {
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    document.getElementById("currentfrequency").innerHTML = this.responseText;
                }
            };
            xhttp.open("GET", "getcurrentfrequency", true);
            xhttp.send();
        }, 1000);
    </script>

    <script>
        setInterval(function () {
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    document.getElementById("currenttxpower").innerHTML = this.responseText;
                }
            };
            xhttp.open("GET", "getcurrenttxpower", true);
            xhttp.send();
        }, 1000);
    </script>

    <p>Make. Better. Perpetually. For Robin.</p>
</body>

</html>